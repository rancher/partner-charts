suite: Secret
templates:
  - secret.yaml

tests:
  - it: AdditionalCA
    set:
      additionalCA: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUN5ekNDQWJPZ0F3SUJBZ0lRQnpRT0xkdVVHQXBSY0pTM2ZyU0dPREFOQmdrcWhraUc5dzBCQVFzRkFEQUEKTUI0WERUSTBNRGt4T1RFd01qQXdPVm9YRFRJME1USXhPREV3TWpBd09Wb3dBRENDQVNJd0RRWUpLb1pJaHZjTgpBUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBTGZpdEVVdVJyNnRuc1htMlZYb3EvMDdabnpjSDlHUHpyL1VFa2pZClFqazVOSUhoYmRUOUVnOWlJN2RZcWEzMUozMkpJbmlVZ3B6RnF0dFhuNTVvRlhYMndNWXpKS3d5dE9GdkpoZ1QKUkp3U0pOd1BwOWVqTVZCVXFzbnNwYURoazJNL1VsUVBYUkFrcms2VmJvdUtxVUN0Y1VoWmF1NW82UmlyYzNzMwo3anlJNzJwUG0zNkg5T29uVytuVkIvMitXSVEweUc5UXR2MTJlMnJjSGNnaml1QVYyb2ZXaStlQlE0UjhBSEtpCmh3WEU1cVpFdmxYdGZHb2hzVkJNOElQb1ExYTd4cWRlTHJxVHoydXhGdjJ2Z1ZsRTdhK0pNTlJLdjN4SmY4bmgKbFZPY3E0RGZ3ZGQ4V2hVL2NRWTZ3N1lTbW1hWWNtZWJUWC9nT3dKOTNJYWVaVEVDQXdFQUFhTkJNRDh3RGdZRApWUjBQQVFIL0JBUURBZ1dnTUF3R0ExVWRFd0VCL3dRQ01BQXdId1lEVlIwUkFRSC9CQlV3RTRJUllUWnlOSEZoCmFpNXNiMlowTG1odmMzUXdEUVlKS29aSWh2Y05BUUVMQlFBRGdnRUJBSi94Y0ovQ2UvRlVxWlJlUFNvMTNNNEcKUVg1WVJIR0JYTndmUk5kN0RuZTRDcGZlUWYwRmR4UDdqUVVkZTJ2dUFBUFpJVmZpYTVvOXhycjhyNVZXellaZQpHQkMwV1VDL2t2ekkwVGRLUVNod3FYOXdCMGVIa3JIamk5ZWszQktlNHRRZ1gvaGgwM09kcjk4ZGQvazhjd01mClFUQVllMHdlUmNsVlFhSjBrTFR6M3plS1lIMXZTMEl4WGZEQm96S3I1cDQ3SmlXSUUrZ3VWSGJ5SEl1SlJGV0QKQ3RYcEltWU1oR2Zkcnc3Nkl0MUtOdUo2a3NuNk5EN2cyV2tFZzV6d1IwcXp1UUMwVGprcmtHRjhERUc0dUFhZQo3aDIxTmJzWUFqVWRMNGlDaEQ3TmEyVjE4VU9oSVRrcU1UbWozdHJJRy9wZlVtWGdHS1JhV2xLRUlBRU5XUkU9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K

    documentSelector:
      path: metadata.name
      value: loft-additional-ca
    asserts:
      - equal:
          path: metadata.name
          value: loft-additional-ca
  - it: AdditionalCA 2
    set:
      additionalCA: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUN5ekNDQWJPZ0F3SUJBZ0lRQnpRT0xkdVVHQXBSY0pTM2ZyU0dPREFOQmdrcWhraUc5dzBCQVFzRkFEQUEKTUI0WERUSTBNRGt4T1RFd01qQXdPVm9YRFRJME1USXhPREV3TWpBd09Wb3dBRENDQVNJd0RRWUpLb1pJaHZjTgpBUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBTGZpdEVVdVJyNnRuc1htMlZYb3EvMDdabnpjSDlHUHpyL1VFa2pZClFqazVOSUhoYmRUOUVnOWlJN2RZcWEzMUozMkpJbmlVZ3B6RnF0dFhuNTVvRlhYMndNWXpKS3d5dE9GdkpoZ1QKUkp3U0pOd1BwOWVqTVZCVXFzbnNwYURoazJNL1VsUVBYUkFrcms2VmJvdUtxVUN0Y1VoWmF1NW82UmlyYzNzMwo3anlJNzJwUG0zNkg5T29uVytuVkIvMitXSVEweUc5UXR2MTJlMnJjSGNnaml1QVYyb2ZXaStlQlE0UjhBSEtpCmh3WEU1cVpFdmxYdGZHb2hzVkJNOElQb1ExYTd4cWRlTHJxVHoydXhGdjJ2Z1ZsRTdhK0pNTlJLdjN4SmY4bmgKbFZPY3E0RGZ3ZGQ4V2hVL2NRWTZ3N1lTbW1hWWNtZWJUWC9nT3dKOTNJYWVaVEVDQXdFQUFhTkJNRDh3RGdZRApWUjBQQVFIL0JBUURBZ1dnTUF3R0ExVWRFd0VCL3dRQ01BQXdId1lEVlIwUkFRSC9CQlV3RTRJUllUWnlOSEZoCmFpNXNiMlowTG1odmMzUXdEUVlKS29aSWh2Y05BUUVMQlFBRGdnRUJBSi94Y0ovQ2UvRlVxWlJlUFNvMTNNNEcKUVg1WVJIR0JYTndmUk5kN0RuZTRDcGZlUWYwRmR4UDdqUVVkZTJ2dUFBUFpJVmZpYTVvOXhycjhyNVZXellaZQpHQkMwV1VDL2t2ekkwVGRLUVNod3FYOXdCMGVIa3JIamk5ZWszQktlNHRRZ1gvaGgwM09kcjk4ZGQvazhjd01mClFUQVllMHdlUmNsVlFhSjBrTFR6M3plS1lIMXZTMEl4WGZEQm96S3I1cDQ3SmlXSUUrZ3VWSGJ5SEl1SlJGV0QKQ3RYcEltWU1oR2Zkcnc3Nkl0MUtOdUo2a3NuNk5EN2cyV2tFZzV6d1IwcXp1UUMwVGprcmtHRjhERUc0dUFhZQo3aDIxTmJzWUFqVWRMNGlDaEQ3TmEyVjE4VU9oSVRrcU1UbWozdHJJRy9wZlVtWGdHS1JhV2xLRUlBRU5XUkU9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
    documentIndex: 1
    asserts:
      - equal:
          path: metadata.name
          value: loft-additional-ca
      - equal:
          path: data["ca.crt"]
          value: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUN5ekNDQWJPZ0F3SUJBZ0lRQnpRT0xkdVVHQXBSY0pTM2ZyU0dPREFOQmdrcWhraUc5dzBCQVFzRkFEQUEKTUI0WERUSTBNRGt4T1RFd01qQXdPVm9YRFRJME1USXhPREV3TWpBd09Wb3dBRENDQVNJd0RRWUpLb1pJaHZjTgpBUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBTGZpdEVVdVJyNnRuc1htMlZYb3EvMDdabnpjSDlHUHpyL1VFa2pZClFqazVOSUhoYmRUOUVnOWlJN2RZcWEzMUozMkpJbmlVZ3B6RnF0dFhuNTVvRlhYMndNWXpKS3d5dE9GdkpoZ1QKUkp3U0pOd1BwOWVqTVZCVXFzbnNwYURoazJNL1VsUVBYUkFrcms2VmJvdUtxVUN0Y1VoWmF1NW82UmlyYzNzMwo3anlJNzJwUG0zNkg5T29uVytuVkIvMitXSVEweUc5UXR2MTJlMnJjSGNnaml1QVYyb2ZXaStlQlE0UjhBSEtpCmh3WEU1cVpFdmxYdGZHb2hzVkJNOElQb1ExYTd4cWRlTHJxVHoydXhGdjJ2Z1ZsRTdhK0pNTlJLdjN4SmY4bmgKbFZPY3E0RGZ3ZGQ4V2hVL2NRWTZ3N1lTbW1hWWNtZWJUWC9nT3dKOTNJYWVaVEVDQXdFQUFhTkJNRDh3RGdZRApWUjBQQVFIL0JBUURBZ1dnTUF3R0ExVWRFd0VCL3dRQ01BQXdId1lEVlIwUkFRSC9CQlV3RTRJUllUWnlOSEZoCmFpNXNiMlowTG1odmMzUXdEUVlKS29aSWh2Y05BUUVMQlFBRGdnRUJBSi94Y0ovQ2UvRlVxWlJlUFNvMTNNNEcKUVg1WVJIR0JYTndmUk5kN0RuZTRDcGZlUWYwRmR4UDdqUVVkZTJ2dUFBUFpJVmZpYTVvOXhycjhyNVZXellaZQpHQkMwV1VDL2t2ekkwVGRLUVNod3FYOXdCMGVIa3JIamk5ZWszQktlNHRRZ1gvaGgwM09kcjk4ZGQvazhjd01mClFUQVllMHdlUmNsVlFhSjBrTFR6M3plS1lIMXZTMEl4WGZEQm96S3I1cDQ3SmlXSUUrZ3VWSGJ5SEl1SlJGV0QKQ3RYcEltWU1oR2Zkcnc3Nkl0MUtOdUo2a3NuNk5EN2cyV2tFZzV6d1IwcXp1UUMwVGprcmtHRjhERUc0dUFhZQo3aDIxTmJzWUFqVWRMNGlDaEQ3TmEyVjE4VU9oSVRrcU1UbWozdHJJRy9wZlVtWGdHS1JhV2xLRUlBRU5XUkU9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
