suite: resources
templates:
  - templates/deployment.yaml
release:
  name: my-release
  namespace: my-namespace
tests:
  - it: sets pod resources to default when no values provided
    set:
      licenseKey: us-whatever
    asserts:
      - equal:
          path: spec.template.spec.containers[0].resources
          value:
            limits:
              cpu: 500m
              memory: 192Mi
            requests:
              cpu: 100m
              memory: 64Mi
        template: templates/deployment.yaml