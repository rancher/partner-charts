# Settings for the HPE Storage Array Exporter for Prometheus Helm chart

# IMPORTANT:
# Confirm your acceptance of the HPE End User License Agreement at
# https://www.hpe.com/us/en/software/licensing.html by setting this
# value to true.
acceptEula: false

# The name of a Secret in the same namespace as the Helm chart installation
# providing storage array access information: "address" (or "backend"),
# "username", and "password".
arraySecret: hpe-backend

image:
  # Container image registry
  registry: "quay.io"

  # Container image pull policy
  pullPolicy: "IfNotPresent"

images:
  arrayExporter: hpestorage/array-exporter:v1.0.4

# Minimum severity of messages to output
logLevel: "info"

# Customization of the metrics provided.
metrics:
  # Exclude metrics about the metrics provider itself, with prefixes
  # such as "promhttp", "process", and "go".
  disableIntrospection: false

# Pod affinity - YAML map passed into the deployment, see API definition below
# https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.31/#affinity-v1-core
affinity: {}
# Pod NodeSelector - YAML map passed into the deployment, see API definition below
# https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.31/#nodeselector-v1-core
nodeSelector: {}
# Pod tolerations - YAML map passed into the deployment, see API definition below
# https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.31/#toleration-v1-core
tolerations: []

# Settings for the Service providing access to storage array metrics.
service:
  # The type of Service to create, ClusterIP (the default) for access
  # solely from within the cluster or NodePort to provide access from
  # outside the cluster.
  type: "ClusterIP"

  # The TCP port at which to expose access to storage array metrics within
  # the cluster (default 9090).
  port: 9090

  # The TCP port at which to expose access to storage array metrics
  # externally at each cluster node, if the Service type is NodePort and
  # automatic assignment is not desired.
  #nodePort:

  # Labels to add to the Service, for example to include target labels
  # in a ServiceMonitor scrape configuration.
  labels: {}
  #  array: 192.168.0.1

  # Annotations to add to the Service, for example to configure it as
  # a scrape target when using the Prometheus Helm chart's default
  # configuration.
  annotations: {}
  #  "prometheus.io/scrape": "true"

# A Service Monitor can enable a Prometheus Operator within the cluster
# to discover the HPE Storage Array Exporter for Prometheus as a scrape
# target.
serviceMonitor:
  enable: false

  # Prometheus relabel configurations. These are applied before scraping.
  # References:
  # https://prometheus.io/docs/prometheus/latest/configuration/configuration/#relabel_config
  # prometheus-operator/prometheus-operator/blob/c22d1da263ace4921586cbafc658418b5c8194ba/Documentation/api.md#relabelconfig
  relabelings: []
  # Prometheus metric relabel configurations. These are applied before ingestion.
  # References:
  # https://prometheus.io/docs/prometheus/latest/configuration/configuration/#metric_relabel_configs
  # prometheus-operator/prometheus-operator/blob/c22d1da263ace4921586cbafc658418b5c8194ba/Documentation/api.md#relabelconfig
  metricRelabelings: []

  # Corresponding labels on the Array Exporter service are added to
  # the scraped metrics
  targetLabels: []
